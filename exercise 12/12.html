<!DOCTYPE html>
<html>
  <head>
    <meta charset='UTF-8'>
    <title>12</title>
  </head>

  <body>
    <div class="twelve-c">
      <button onclick="
        startTimer(); 
      " class="timer-button">Start</button>
    </div>

    <p></p>
    <div class="twelve-e">
      <button onclick="
        addToCart(); 
      " class="add-to-cart-button">Add to Cart</button>

      <p class="text"></p>
    </div>

    <div class="twelve-g">
      <button onclick="
        messages++; 
      ">Add</button>
      <button onclick="
        if(messages > 0)
          messages--;
      ">Remove</button>
    </div>
    <script>
      // 12a
      const add = function() {
        console.log(2+3);
      }

      add();
      add();
      
      // 12b
      function runTwice(fun) {
        fun();
        fun();
      }

      runTwice(function() {
        console.log('12b');
      });
      runTwice(add);

      // 12c, 12d
      function startTimer() {
        document.querySelector('.timer-button').innerHTML = 'Loading...';
        setTimeout(function() {
          document.querySelector('.timer-button').innerHTML = 'Finished!';
        }, 1000);
      }

      // 12e
      let timeOutId;
      let addingToCart = false;
      function addToCart() {
        if(addingToCart) {
          timeOutId = clearTimeout(timeOutId);
        }

        addingToCart = true;

        timeOutId = setTimeout(function() {
          document.querySelector('.text').innerHTML = '';
          addingToCart = false;
        }, 2000);

        document.querySelector('.text').innerHTML = 'Added';
      }

      // 12g
      let messages = 2;

      setInterval(function () {
        if(document.title === '12' && messages > 0)
          document.title = `(${messages}) New Messages`;
        else 
          document.title = '12';
      }, 1000)

      // 12j
      const multiply = (val1, val2) => val1 * val2;

      console.log(multiply(2, 3));
      console.log(multiply(7, 10));
      
      // 12l
      function countPositive(nums) {
        let count = 0;
        nums.forEach((num) => {
          if(num > 0) {
            count++;
          }
        })

        return count;
      }
      console.log(countPositive([1, -2, 3, -4, 5]));

      // 12m
      const addNum = (array, num) => array.map(value => value + num);
      console.log(addNum([1, 2, 3], 3));

      // 12n
      const removeEggs = foods => foods.filter(food => food != 'egg');
      console.log(removeEggs(['egg', 'bacon', 'apple', 'egg', 'banana']));
      
      // 12o
      const removeFirst2Eggs = foods => {
        let count = 0;
        return foods.filter(food => {
          if(food === 'egg' && count < 2) {
            count++;
            return false;
          }
          
          return true;
        });
      }
      console.log(removeFirst2Eggs(['egg', 'bacon', 'apple', 'egg', 'banana', 'egg', 'egg']));

      // 12
    </script>
  </body>
</html>